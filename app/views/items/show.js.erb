var dialog = document.createElement('dialog');
dialog.className = "mdl-dialog show_item";
dialog.id = '<%= "show_item_" + @item.id %>';
document.body.insertBefore(dialog, document.body.firstElementChild);
dialogPolyfill.registerDialog(dialog);

if (document.documentElement.clientWidth > 800) {
    dialog.innerHTML = "<%= j render 'show'%>";
    componentHandler.upgradeDom();
    dialog.showModal();
    setTimeout(function () {
        $('.imagesets-slider-for').slick({
            slidesToShow: 1,
            slidesToScroll: 1,
            touchThreshold: 3,
            adaptiveHeight: true,
            arrows: true,
            asNavFor: '.imagesets-slider-nav',
            infinite: true,
            lazyLoad: 'ondemand'
        });
    }, 1);
    $('.imagesets-slider-nav').slick({
        slidesToShow: 5,
        slidesToScroll: 1,
        touchThreshold: 3,
        arrows: false,
        asNavFor: '.imagesets-slider-for',
        infinite: true,
        focusOnSelect: true,
        lazyLoad: 'progressive'
    });

} else {
    dialog.innerHTML = "<%= j render 'm-show'%>";
    componentHandler.upgradeDom();
    dialog.show();
};
